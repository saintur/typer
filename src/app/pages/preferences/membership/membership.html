@if (loading) {

  <!-- Header -->
  <div class="header">
    <div>
      <p-skeleton width="8rem" height="1.5rem"></p-skeleton>
      <p-skeleton width="14rem" height="1rem" class="mt-2"></p-skeleton>
    </div>

    <p-skeleton width="6rem" height="2rem" borderRadius="16px"></p-skeleton>
  </div>

  <p-divider></p-divider>

  <!-- Info rows -->
  <div class="plan-info">
    @for (item of [1, 2, 3]; track item) {
      <div class="info-row">
        <p-skeleton width="8rem" height="1rem"></p-skeleton>
        <p-skeleton width="6rem" height="1rem"></p-skeleton>
      </div>
    }
  </div>

  <p-divider></p-divider>

  <!-- Features -->
  <p-skeleton width="10rem" height="1.2rem"></p-skeleton>

  <ul class="features">
    @for (item of [1, 2, 3]; track item) {
      <li>
        <p-skeleton width="16rem" height="1rem"></p-skeleton>
      </li>
    }
  </ul>

  <!-- Actions -->
  <div class="actions">
    <p-skeleton width="8rem" height="2.5rem"></p-skeleton>
    <p-skeleton width="10rem" height="1rem"></p-skeleton>
  </div>

} @else {
  @if (userUpgrade && userUpgrade.planName) {
    <!-- Header -->
    <div class="header">
      <div>
        <h2>–ì–∏—à“Ø“Ø–Ω—á–ª—ç–ª</h2>
        <p class="muted">–¢–∞–Ω—ã –∏–¥—ç–≤—Ö—Ç—ç–π –±–∞–≥—Ü –±–æ–ª–æ–Ω —Ç”©–ª–±”©—Ä–∏–π–Ω –º—ç–¥—ç—ç–ª—ç–ª</p>
      </div>

      <p-tag
        [value]="userUpgrade.planName+' PLAN'"
        severity="info"
        icon="pi pi-crown">
      </p-tag>
    </div>

    <p-divider></p-divider>

    <!-- Plan Info -->
    <div class="plan-info">
      <div class="info-row">
        <span>–ò–¥—ç–≤—Ö—Ç—ç–π –±–∞–≥—Ü</span>
        <strong>{{ userUpgrade.planName }}</strong>
      </div>

      <div class="info-row">
        <span>–¢”©–ª–±”©—Ä–∏–π–Ω —Ç”©—Ä”©–ª</span>
        <strong>{{ userUpgrade.durationMonth }} –°–∞—Ä—ã–Ω</strong>
      </div>

      <div class="info-row">
        <span>–î–∞—Ä–∞–∞–≥–∏–π–Ω —Å—É–Ω–≥–∞–ª—Ç</span>
        <strong>{{ userUpgrade.expireAt | date:'yyyy-MM-dd' }}</strong>
      </div>
    </div>

    <p-divider></p-divider>

    <!-- Features -->
    <h3>–î–∞–≤—É—É —Ç–∞–ª—É—É–¥</h3>
    <ul class="features">
      <li><i class="pi pi-check"></i> Priority email support</li>
      <li><i class="pi pi-check"></i> –ó–∞—Ä —Å—É—Ä—Ç–∞–ª—á–∏–ª–≥–∞–∞ –±–∞–π—Ö–≥“Ø–π</li>
      <li><i class="pi pi-check"></i> –•—è–∑–≥–∞–∞—Ä–≥“Ø–π –∞—à–∏–≥–ª–∞–ª—Ç</li>
    </ul>

    <!-- Actions -->
    <div class="actions">
      <a class="link" (click)="goToBilling()">Billing History —Ö–∞—Ä–∞—Ö</a>
    </div>
  } @else {
    <!-- Header -->
    <div class="header">
      <div>
        <h2>–ì–∏—à“Ø“Ø–Ω—á–ª—ç–ª</h2>
        <p class="muted">
          –¢–∞ –æ–¥–æ–æ–≥–æ–æ—Ä “Ø–Ω—ç–≥“Ø–π –±–∞–≥—Ü –∞—à–∏–≥–ª–∞–∂ –±–∞–π–Ω–∞
        </p>
      </div>

      <p-tag
        value="“Æ–Ω—ç–≥“Ø–π"
        severity="secondary">
      </p-tag>
    </div>
    <div class="dm3-pricing-column">

      <div class="dm3-pricing-options">
        <ul>
          @for (condition of plan.conditions; track condition) {
            <li><i class="pi pi-check"></i>{{ condition }}</li>
          }
          <li><i class="pi pi-credit-card"></i>{{ plan.paymentNote }}</li>
        </ul>
      </div>
      <div class="dm3-pricing-price">
        <span>{{ plan.price | number : '1.0-0' }}‚ÇÆ</span>
        <span class="duration">{{ plan.durationMonth }} —Å–∞—Ä</span>
      </div>
    </div>
    <p-divider></p-divider>
    <!-- Free Info -->
    <div class="free-info">
      <p>“Æ–Ω—ç–≥“Ø–π –±–∞–≥—Ü –Ω—å —Ö—è–∑–≥–∞–∞—Ä–ª–∞–≥–¥–º–∞–ª –±–æ–ª–æ–º–∂—É—É–¥—Ç–∞–π. Upgrade —Ö–∏–π—Å–Ω—ç—ç—Ä –¥–∞—Ä–∞–∞—Ö –¥–∞–≤—É—É —Ç–∞–ª—É—É–¥—ã–≥ –∞–≤–Ω–∞:</p>
    </div>
    <!-- Locked Features -->
    <ul class="features locked">
      <li><i class="pi pi-lock"></i> Priority email support</li>
      <li><i class="pi pi-lock"></i> –ó–∞—Ä —Å—É—Ä—Ç–∞–ª—á–∏–ª–≥–∞–∞–≥“Ø–π –æ—Ä—á–∏–Ω</li>
      <li><i class="pi pi-lock"></i> –ë“Ø—Ö —Ö–∏—á—ç—ç–ª –Ω—ç—ç–ª—Ç—Ç—ç–π</li>
    </ul>
    <!-- CTA -->
    <div class="upgrade-box">
      <p>üöÄ –°—É—Ä–∞—Ö —Ö—É—Ä–¥aa –Ω—ç–º—ç–≥–¥“Ø“Ø–ª–∂, –±“Ø—Ö –±–æ–ª–æ–º–∂–∏–π–≥ –Ω—ç—ç—Ö—ç–¥ –±—ç–ª—ç–Ω “Ø“Ø?</p>

      <p-button routerLink="/upgrade"
                label="–ì–∏—à“Ø“Ø–Ω—á–ª—ç–ª –∞—Ö–∏—É–ª–∞—Ö"
                icon="pi pi-star"
                severity="warn">
      </p-button>

      <small class="note">
        * –ù—ç–≥ —É–¥–∞–∞–≥–∏–π–Ω —Ç”©–ª–±”©—Ä. –ê–≤—Ç–æ–º–∞—Ç–∞–∞—Ä —Å—É–Ω–≥–∞–≥–¥–∞—Ö–≥“Ø–π.
      </small>
    </div>
  }
}
